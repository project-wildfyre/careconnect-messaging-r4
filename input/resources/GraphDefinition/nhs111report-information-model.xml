<GraphDefinition xmlns="http://hl7.org/fhir">
    <id value="nhs111report-information-model"/>
    <url value="https://project-wildfyre.github.io/careconnect-messaging-r4/GraphDefinition/nhs111report-information-model"/>
    <name value="Information Model - NHS 111 Report"/>
    <status value="draft"/>
    <date value="2019-03-03T00:00:00+00:00"/>
    <publisher value="NHS Digital"/>
    <contact>
        <telecom>
            <system value="url"/>
            <value value="http://fhir.nhs.uk"/>
        </telecom>
    </contact>
    <description value="Information model based on the NHS 111 ITK Report [Specification](https://data.developer.nhs.uk/dms/IUC-3.0-RC1/Domains/IntegratedUrgentCare/Tabular%20View/POCD_RM200001GB02.html)."/>
    <start value="Composition"/>
    <profile value="http://hl7.org/fhir/R4/StructureDefinition/Composition"/>
    <link>
        <path value="Composition.section[x].entry"/>
        <sliceName value="informationRecipient"/>
        <min value="1"/>
        <max value="*"/>
        <description value="ITK informationRecipient. The primary information recipients of the clinical documents are usually expected to perform some action on receipt of a CDA document. There can be more than one primary recipient. "/>
        <target>
            <type value="Patient"/>
            <profile value="http://hl7.org/fhir/R4/StructureDefinition/Patient"/>
        </target>
        <target>
            <type value="HeathcareService"/>
            <profile value="http://hl7.org/fhir/R4/StructureDefinition/HeathcareService"/>
        </target>
        <target>
            <type value="Person"/>
            <profile value="http://hl7.org/fhir/R4/StructureDefinition/Person"/>
        </target>
    </link>
    <link>
        <path value="Composition.author"/>
        <min value="1"/>
        <max value="*"/>
        <description value="It holds details of how and when the author authored the document."/>
        <target>
            <type value="Practitioner"/>
            <profile value="http://hl7.org/fhir/R4/StructureDefinition/Practitioner"/>
        </target>
        <target>
            <type value="Device"/>
            <profile value="http://hl7.org/fhir/R4/StructureDefinition/Device"/>
        </target>
        <target>
            <type value="Person"/>
            <profile value="http://hl7.org/fhir/R4/StructureDefinition/Person"/>
        </target>
    </link>
    <link>
        <path value="Composition.subject"/>
        <min value="1"/>
        <max value="1"/>
        <description value="ITK recordTarget (The patient whose record is the target for the information in the Document.)"/>
        <target value="#patient">
            <type value="Patient"/>
            <profile value="http://hl7.org/fhir/R4/StructureDefinition/Patient"/>
        </target>
    </link>
    <link>
        <path value="Composition.custodian"/>
        <min value="1"/>
        <max value="1"/>
        <description value="The custodian is the legal owner of the document and is the organisation responsible for maintaining the information in the document."/>
        <target>
            <type value="Organization"/>
            <profile value="http://hl7.org/fhir/R4/StructureDefinition/Organization"/>
        </target>
    </link>
    <link>
        <path value="Composition.section[x].entry"/>
        <sliceName value="informant"/>
        <min value="1"/>
        <max value="*"/>
        <description value="An informant is a person who informed the author about information contained in the document."/>
        <target>
            <type value="Organization"/>
            <profile value="http://hl7.org/fhir/R4/StructureDefinition/Organization"/>
        </target>
        <target>
            <type value="Person"/>
            <profile value="http://hl7.org/fhir/R4/StructureDefinition/Person"/>
        </target>
    </link>
    <link>
        <path value="Composition.section[x].entry"/>
        <sliceName value="participant"/>
        <min value="1"/>
        <max value="*"/>
        <description value="Participants are people, organisations or devices that are involved in some way with the CDA document."/>
        <target>
            <type value="Organization"/>
            <profile value="http://hl7.org/fhir/R4/StructureDefinition/Organization"/>
        </target>
        <target>
            <type value="Person"/>
            <profile value="http://hl7.org/fhir/R4/StructureDefinition/Person"/>
        </target>
    </link>
    <link>
        <path value="Composition.relatesTo.target[x]"/>
        <min value="0"/>
        <max value="*"/>
        <description value="This is a related document relationship it links the current document to a related document."/>
        <target>
            <type value="Composition"/>
            <profile value="http://hl7.org/fhir/R4/StructureDefinition/Composition"/>
        </target>
    </link>
    <link>
        <path value="Composition.section[x].entry"/>
        <sliceName value="documentationOf"/>
        <min value="0"/>
        <max value="*"/>
        <description value="A ServiceEvent can further specialize the act inherent in the ClinicalDocument.code, such as where the Composition.code is simply 'Procedure Report' and the procedure was a 'colonoscopy'."/>
        <target>
            <type value="ServiceRequest"/>
            <profile value="http://hl7.org/fhir/R4/StructureDefinition/ServiceRequest"/>
        </target>
    </link>
    <link>
        <path value="Composition.section[x].entry"/>
        <sliceName value="authorization"/>
        <min value="0"/>
        <max value="*"/>
        <description value="Details of the authorisation associated with the document"/>
        <target>
            <extension url="https://fhir.mayfield-is.co.uk/extension-GraphDefinition.targetLinkId">
                <valueString value="#consent"/>
            </extension>
            <type value="Consent"/>
            <profile value="http://hl7.org/fhir/R4/StructureDefinition/Consent"/>
        </target>
    </link>
    <link>
        <path value="Composition.encounter"/>
        <min value="1"/>
        <max value="1"/>
        <description value="This is a component of relationship it is used to link the document header to the EncompassingEncounter that the document is documenting."/>
        <target>
            <type value="Encounter"/>
            <profile value="http://hl7.org/fhir/R4/StructureDefinition/Encounter"/>
        </target>
    </link>
    <link>
        <path value="Composition.section[x].entry"/>
        <sliceName value="patientDemographicsSection"/>
        <min value="1"/>
        <max value="*"/>
        <description value="Patient details - unable to locate in the CDA document"/>
        <target>
            <extension url="https://fhir.mayfield-is.co.uk/extension-GraphDefinition.targetLinkId">
                <valueString value="#patient"/>
            </extension>
            <type value="Patient"/>
            <profile value="http://hl7.org/fhir/R4/StructureDefinition/Patient"/>
        </target>
    </link>
    <link>
        <path value="Composition.section[x].entry"/>
        <sliceName value="TriageAttachment"/>
        <min value="0"/>
        <max value="*"/>
        <description value="ITK TriageAttachment - This is a base 64 encoded export of Pathway in JSON format"/>
        <target>
            <type value="Binary"/>
            <profile value="http://hl7.org/fhir/R4/StructureDefinition/Binary"/>
        </target>
    </link>
    <link>
        <path value="Composition.section[x].entry"/>
        <sliceName value="PermissionToView"/>
        <min value="0"/>
        <max value="*"/>
        <description value="The Permission to View template details the permission to view the care record associated with this message."/>
        <target>
            <type value="Consent"/>
            <profile value="http://hl7.org/fhir/R4/StructureDefinition/Consent"/>
        </target>
    </link>
    <link>
        <path value="Composition.section[x].entry"/>
        <sliceName value="NHS111TextSection"/>
        <min value="0"/>
        <max value="*"/>
        <description value="Document Text"/>
    </link>
</GraphDefinition>