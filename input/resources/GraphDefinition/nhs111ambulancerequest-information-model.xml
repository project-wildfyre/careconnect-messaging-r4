<GraphDefinition xmlns="http://hl7.org/fhir">
    <id value="nhs111ambulancerequest-information-model"/>
    <url value="https://project-wildfyre.github.io/careconnect-messaging-r4/GraphDefinition/nhs111ambulancerequest-information-model"/>
    <name value="Information Model - NHS 111 Report"/>
    <status value="draft"/>
    <date value="2019-03-03T00:00:00+00:00"/>
    <publisher value="NHS Digital"/>
    <contact>
        <telecom>
            <system value="url"/>
            <value value="http://fhir.nhs.uk"/>
        </telecom>
    </contact>
    <description value="This message is a request for an ambulance to be dispatched. It contains the information from a NHS 111 encounter required for an ambulance service to be able to dispatch an ambulance."/>
    <start value="ServiceRequest"/>
    <profile value="http://hl7.org/fhir/R4/StructureDefinition/ServiceRequest"/>
    <link>
        <path value="ServiceRequest.requestor"/>
        <min value="1"/>
        <max value="1"/>
        <description value="This links the ambulance request to author of the request."/>
        <target>
            <type value="Organization"/>
            <profile value="http://hl7.org/fhir/R4/StructureDefinition/Organization"/>
        </target>
        <target>
            <type value="Practitioner"/>
            <profile value="http://hl7.org/fhir/R4/StructureDefinition/Practitioner"/>
        </target>
    </link>
    <link>
        <path value="ServiceRequest.performer"/>
        <min value="1"/>
        <max value="1"/>
        <description value="It is used for the list of recipients of the ambulance request message."/>
        <target>
            <type value="Organization"/>
            <profile value="http://hl7.org/fhir/R4/StructureDefinition/Organization"/>
        </target>
        <target>
            <type value="Practitioner"/>
            <profile value="http://hl7.org/fhir/R4/StructureDefinition/Practitioner"/>
        </target>
    </link>
    <link>
        <path value="ServiceRequest.replaces"/>
        <min value="0"/>
        <max value="1"/>
        <description value="It is used when the ambulance request message is being replaced by an updated version. The new and previous ambulance request must be for the same NHS 111 case.(i.e. have the same case id). The ambulance request being sent replaces the one referenced in previous ambulance request class."/>
        <target>
            <type value="ServiceRequest"/>
            <profile value="http://hl7.org/fhir/R4/StructureDefinition/ServiceRequest"/>
        </target>
    </link>
    <link>
        <path value="ServiceRequest.supportingInformation[x]"/>
        <sliceName value="TriageOutcome"/>
        <min value="1"/>
        <max value="1"/>
        <description value="Justifying Triage Outcome "/>
        <target>
            <type value="Observation"/>
            <profile value="http://hl7.org/fhir/R4/StructureDefinition/Observation"/>
        </target>
    </link>
    <link>
        <path value="ServiceRequest.supportingInformation[x]"/>
        <sliceName value="TriageDisposition"/>
        <min value="0"/>
        <max value="1"/>
        <description value="Triage Disposition"/>
        <target>
            <type value="Observation"/>
            <profile value="http://hl7.org/fhir/R4/StructureDefinition/Observation"/>
        </target>
    </link>
    <link>
        <path value="ServiceRequest.notes"/>
        <min value="0"/>
        <max value="1"/>
        <description value="Used to carry additional notes pertinent to the ambulance request."/>
    </link>
    <link>
        <path value="ServiceRequest.supportingInformation[x]"/>
        <sliceName value="PermissionToView"/>
        <min value="0"/>
        <max value="1"/>
        <description value="It is used to carry the Permission To View outcome."/>
        <target>
            <type value="Consent"/>
            <profile value="http://hl7.org/fhir/R4/StructureDefinition/Consent"/>
        </target>
    </link>
    <link>
        <path value="ServiceRequest.encounter"/>
        <min value="1"/>
        <max value="1"/>
        <description value="It is used when the ambulance request message is being replaced by an updated version. The new and previous ambulance request must be for the same NHS 111 case.(i.e. have the same case id). The ambulance request being sent replaces the one referenced in previous ambulance request class."/>
        <target>
            <type value="Encounter"/>
            <profile value="http://hl7.org/fhir/R4/StructureDefinition/Encounter"/>
            <link>
                <path value="Encounter.location"/>
                <min value="1"/>
                <max value="1"/>
                <description value="This is the location where the NHS 111 encounter call was made from by the patient or third party on behalf of the patient."/>
                <target>
                    <type value="Location"/>
                    <profile value="http://hl7.org/fhir/R4/StructureDefinition/Location"/>
                </target>
            </link>
        </target>
    </link>
    <link>
        <path value="ServiceRequest.supportingInformation[x]"/>
        <sliceName value="TraumaFlag"/>
        <min value="1"/>
        <max value="1"/>
        <description value="It is used to indicate information about whether the patient has suffered trauma pertinent to the ambulance request."/>
        <target>
            <type value="Flag"/>
            <profile value="http://hl7.org/fhir/R4/StructureDefinition/Flag"/>
        </target>
    </link>
    <link>
        <path value="ServiceRequest.supportingInformation[x]"/>
        <sliceName value="FireFlag"/>
        <min value="1"/>
        <max value="1"/>
        <description value="It is used to indicate information about whether there is a risk of fire at the incident scene pertinent to the ambulance request."/>
        <target>
            <type value="Flag"/>
            <profile value="http://hl7.org/fhir/R4/StructureDefinition/Flag"/>
        </target>
    </link>
    <link>
        <path value="ServiceRequest.supportingInformation[x]"/>
        <sliceName value="SceneSafeFlag"/>
        <min value="1"/>
        <max value="1"/>
        <description value="It is used to indicate information about whether the scene is safe pertinent to the ambulance request."/>
        <target>
            <type value="Flag"/>
            <profile value="http://hl7.org/fhir/R4/StructureDefinition/Flag"/>
        </target>
    </link>
    <link>
        <path value="ServiceRequest.supportingInformation[x]"/>
        <sliceName value="PoliceFlag"/>
        <min value="1"/>
        <max value="1"/>
        <description value="It is used to indicate information about whether police are in attendance at the incident scence pertinent to the ambulance request"/>
        <target>
            <type value="Flag"/>
            <profile value="http://hl7.org/fhir/R4/StructureDefinition/Flag"/>
        </target>
    </link>
    <link>
        <path value="ServiceRequest.supportingInformation[x]"/>
        <sliceName value="TrappedFlag"/>
        <min value="1"/>
        <max value="1"/>
        <description value="It is used to indicate information about whether the patient is trapped pertinent to the ambulance request."/>
        <target>
            <type value="Flag"/>
            <profile value="http://hl7.org/fhir/R4/StructureDefinition/Flag"/>
        </target>
    </link>
</GraphDefinition>